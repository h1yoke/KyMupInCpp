
#include <КуМир>

// Данный файл содержит имплементацию "быстрой сортировки" для 10 случайных чисел

используй модуль чертежник;
используй модуль вертун;

пусто выведи(целые элементы[], целый размер);
пусто быстрая_сортировка(целые элементы[], целое начало, целый конец);

целая ТочкаВхода() нач
    объяви константно целый МАКС_ДЛИНА = 10;
    объяви целые элементы[МАКС_ДЛИНА];
    объяви целый итератор = 0;

    обнови_рандом();
    пока итератор не_равен МАКС_ДЛИНА делай нач
        элементы[итератор] = случайное_целое(1000, 10000);
        итератор++;
    кон

    выведи(элементы, МАКС_ДЛИНА);
    быстрая_сортировка(элементы, 0, МАКС_ДЛИНА - 1);
    выведи(элементы, МАКС_ДЛИНА);
кон

пусто выведи(целые элементы[], целый размер) нач
    объяви целый итератор = 0;
    пока итератор не_равен размер делай нач
        напиши элементы[итератор];
        напиши " ";
        итератор++;
    кон
    напиши перевод_строки;
кон

пусто быстрая_сортировка(целые элементы[], целое начало, целый конец) нач
    целый указатель = элементы[начало];
    целый н = начало, к = конец;

    пока начало < конец делай нач
        пока элементы[конец] >= указатель и начало < конец делай
            конец--;

        если начало не_равен конец то нач
            элементы[начало] = элементы[конец];
            начало++;
        кон

        пока элементы[начало] <= указатель и начало < конец делай
            начало++;

        если начало не_равен конец то нач
            элементы[конец] = элементы[начало];
            конец--;
        кон
    кон
    элементы[начало] = указатель;
    указатель = начало;
    начало = н;
    конец = к;

    если начало < указатель то
        быстрая_сортировка(элементы, начало, указатель - 1);
    если конец > указатель то
        быстрая_сортировка(элементы, указатель + 1, конец);
кон
