/***                                   ***
  *                                     *
  *       Файл работы с сосудами        *
  *        библиотеки KyMupInC++        *
 ***                                   ***/

#pragma once

/* Проверка подключения основного файла библиотеки */
#ifdef __КуМир

/* Подключение необходимого заголовка */
#include <algorithm>

/* Названия модуля 'водолей' */
#define водолей namespace std;

/* Модуль логгирования функций */
static bool __КуМирЛоггированиеВодолей = false;
#define __КуМирЛог(Текст) if(__КуМирЛоггированиеВодолей)std::cout<<Текст;

/* Метод перелива воды из одного сосуда в другой */
#define перелей(Из, В, Лимит) {                            \
        __КуМирЛог("перелей:(" << Из << "; " << В << ")"); \
        auto староеВ = В;                                  \
        В = std::min(В + Из, Лимит);                       \
        Из = староеВ + Из - В;                             \
        __КуМирЛог("->(" << Из << "; " << В << ")\n");     \
    }

/* Метод обнуления объема сосуда */
#define вылей(Из) {                               \
        __КуМирЛог("вылей: (" << Из << ")->(0)"); \
        ((Из) = 0);                               \
    }

/* Метод задания объема сосуда */
#define налей(В, Лимит) {                                     \
        __КуМирЛог("налей:(" << В << "; " << Лимит << ")->"); \
        В = Лимит;                                            \
        __КуМирЛог("(" << В << "; " << Лимит << ")\n");       \
    }

#endif /* __КуМир */
